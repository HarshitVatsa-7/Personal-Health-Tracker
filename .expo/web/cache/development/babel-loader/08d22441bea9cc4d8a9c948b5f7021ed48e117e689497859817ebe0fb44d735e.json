{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SummaryCard from \"../components/SummaryCard\";\nimport { loadActivities } from \"../utils/storage\";\nimport { useIsFocused } from '@react-navigation/native';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar TYPES = {\n  WATER: 'water',\n  STEPS: 'steps',\n  SLEEP: 'sleep'\n};\nfunction startOfDayKey() {\n  var d = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n  var y = d.getFullYear();\n  var m = d.getMonth();\n  var day = d.getDate();\n  return new Date(y, m, day).toISOString().slice(0, 10);\n}\nexport default function DashboardScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    activities = _useState2[0],\n    setActivities = _useState2[1];\n  var isFocused = useIsFocused();\n  useEffect(function () {\n    if (isFocused) load();\n  }, [isFocused]);\n  function load() {\n    return _load.apply(this, arguments);\n  }\n  function _load() {\n    _load = _asyncToGenerator(function* () {\n      var arr = yield loadActivities();\n      setActivities(arr);\n    });\n    return _load.apply(this, arguments);\n  }\n  function sumToday(type) {\n    var todayKey = startOfDayKey();\n    var filtered = activities.filter(function (a) {\n      return a.dateStr === todayKey && a.type === type;\n    });\n    return filtered.reduce(function (s, a) {\n      return s + Number(a.value);\n    }, 0) || 0;\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.dateText,\n      children: new Date().toDateString()\n    }), _jsxs(ScrollView, {\n      contentContainerStyle: styles.scrollContent,\n      children: [_jsxs(View, {\n        style: styles.row,\n        children: [_jsx(View, {\n          style: styles.cardWrapper,\n          children: _jsx(SummaryCard, {\n            title: \"Water\",\n            value: sumToday(TYPES.WATER),\n            unit: \"glasses\",\n            onPress: function onPress() {\n              return navigation.navigate('LogActivity', {\n                prefill: TYPES.WATER\n              });\n            }\n          })\n        }), _jsx(View, {\n          style: styles.cardWrapper,\n          children: _jsx(SummaryCard, {\n            title: \"Steps\",\n            value: sumToday(TYPES.STEPS),\n            unit: \"steps\",\n            onPress: function onPress() {\n              return navigation.navigate('LogActivity', {\n                prefill: TYPES.STEPS\n              });\n            }\n          })\n        })]\n      }), _jsx(View, {\n        style: styles.singleCardRow,\n        children: _jsx(SummaryCard, {\n          title: \"Sleep\",\n          value: sumToday(TYPES.SLEEP),\n          unit: \"hrs\",\n          onPress: function onPress() {\n            return navigation.navigate('LogActivity', {\n              prefill: TYPES.SLEEP\n            });\n          }\n        })\n      }), _jsxs(View, {\n        style: styles.quickRow,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.quickBtn,\n          onPress: function onPress() {\n            return navigation.navigate('LogActivity', {\n              prefill: TYPES.WATER\n            });\n          },\n          children: _jsx(Text, {\n            children: \"+ Water\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.quickBtn,\n          onPress: function onPress() {\n            return navigation.navigate('LogActivity', {\n              prefill: TYPES.STEPS\n            });\n          },\n          children: _jsx(Text, {\n            children: \"+ Steps\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.quickBtn,\n          onPress: function onPress() {\n            return navigation.navigate('LogActivity', {\n              prefill: TYPES.SLEEP\n            });\n          },\n          children: _jsx(Text, {\n            children: \"+ Sleep\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.quickBtn,\n          onPress: function onPress() {\n            return navigation.navigate('History');\n          },\n          children: _jsx(Text, {\n            children: \"History\"\n          })\n        })]\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#f3f6ff'\n  },\n  dateText: {\n    fontSize: 18,\n    fontWeight: '700',\n    marginBottom: 6\n  },\n  scrollContent: {\n    paddingBottom: 20\n  },\n  row: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  cardWrapper: {\n    flex: 1,\n    marginRight: 8\n  },\n  singleCardRow: {\n    marginTop: 8\n  },\n  quickRow: {\n    flexDirection: 'row',\n    marginTop: 16,\n    justifyContent: 'space-between'\n  },\n  quickBtn: {\n    backgroundColor: '#fff',\n    padding: 10,\n    borderRadius: 8,\n    elevation: 1,\n    width: 80,\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ScrollView","TouchableOpacity","SummaryCard","loadActivities","useIsFocused","jsx","_jsx","jsxs","_jsxs","TYPES","WATER","STEPS","SLEEP","startOfDayKey","d","arguments","length","undefined","Date","y","getFullYear","m","getMonth","day","getDate","toISOString","slice","DashboardScreen","_ref","navigation","_useState","_useState2","_slicedToArray","activities","setActivities","isFocused","load","_load","apply","_asyncToGenerator","arr","sumToday","type","todayKey","filtered","filter","a","dateStr","reduce","s","Number","value","style","styles","container","children","dateText","toDateString","contentContainerStyle","scrollContent","row","cardWrapper","title","unit","onPress","navigate","prefill","singleCardRow","quickRow","quickBtn","create","flex","padding","backgroundColor","fontSize","fontWeight","marginBottom","paddingBottom","flexDirection","justifyContent","marginRight","marginTop","borderRadius","elevation","width","alignItems"],"sources":["C:/Users/harsh/Downloads/Personal-Health-Care-Tracker/screens/DashboardScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, ScrollView, TouchableOpacity } from 'react-native';\nimport SummaryCard from '../components/SummaryCard';\nimport { loadActivities } from '../utils/storage';\nimport { useIsFocused } from '@react-navigation/native';\n\nconst TYPES = { WATER: 'water', STEPS: 'steps', SLEEP: 'sleep' };\n\nfunction startOfDayKey(d = new Date()) {\n  const y = d.getFullYear(); const m = d.getMonth(); const day = d.getDate();\n  return new Date(y, m, day).toISOString().slice(0, 10);\n}\n\nexport default function DashboardScreen({ navigation }) {\n  const [activities, setActivities] = useState([]);\n  const isFocused = useIsFocused();\n\n  useEffect(() => {\n    if (isFocused) load();\n  }, [isFocused]);\n\n  async function load() {\n    const arr = await loadActivities();\n    setActivities(arr);\n  }\n\n  function sumToday(type) {\n    const todayKey = startOfDayKey();\n    const filtered = activities.filter(a => a.dateStr === todayKey && a.type === type);\n    return filtered.reduce((s, a) => s + Number(a.value), 0) || 0;\n  }\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.dateText}>{new Date().toDateString()}</Text>\n\n      <ScrollView contentContainerStyle={styles.scrollContent}>\n        {/* Row 1: water + steps */}\n        <View style={styles.row}>\n          <View style={styles.cardWrapper}>\n            <SummaryCard\n              title=\"Water\"\n              value={sumToday(TYPES.WATER)}\n              unit=\"glasses\"\n              onPress={() => navigation.navigate('LogActivity', { prefill: TYPES.WATER })}\n            />\n          </View>\n          <View style={styles.cardWrapper}>\n            <SummaryCard\n              title=\"Steps\"\n              value={sumToday(TYPES.STEPS)}\n              unit=\"steps\"\n              onPress={() => navigation.navigate('LogActivity', { prefill: TYPES.STEPS })}\n            />\n          </View>\n        </View>\n\n        {/* Row 2: sleep */}\n        <View style={styles.singleCardRow}>\n          <SummaryCard\n            title=\"Sleep\"\n            value={sumToday(TYPES.SLEEP)}\n            unit=\"hrs\"\n            onPress={() => navigation.navigate('LogActivity', { prefill: TYPES.SLEEP })}\n          />\n        </View>\n\n        {/* Quick actions */}\n        <View style={styles.quickRow}>\n          <TouchableOpacity\n            style={styles.quickBtn}\n            onPress={() => navigation.navigate('LogActivity', { prefill: TYPES.WATER })}\n          >\n            <Text>+ Water</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={styles.quickBtn}\n            onPress={() => navigation.navigate('LogActivity', { prefill: TYPES.STEPS })}\n          >\n            <Text>+ Steps</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={styles.quickBtn}\n            onPress={() => navigation.navigate('LogActivity', { prefill: TYPES.SLEEP })}\n          >\n            <Text>+ Sleep</Text>\n          </TouchableOpacity>\n          <TouchableOpacity\n            style={styles.quickBtn}\n            onPress={() => navigation.navigate('History')}\n          >\n            <Text>History</Text>\n          </TouchableOpacity>\n        </View>\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 16, backgroundColor: '#f3f6ff' },\n  dateText: { fontSize: 18, fontWeight: '700', marginBottom: 6 },\n  scrollContent: { paddingBottom: 20 },\n  row: { flexDirection: 'row', justifyContent: 'space-between' },\n  cardWrapper: { flex: 1, marginRight: 8 },\n  singleCardRow: { marginTop: 8 },\n  quickRow: {\n    flexDirection: 'row',\n    marginTop: 16,\n    justifyContent: 'space-between'\n  },\n  quickBtn: {\n    backgroundColor: '#fff',\n    padding: 10,\n    borderRadius: 8,\n    elevation: 1,\n    width: 80,\n    alignItems: 'center'\n  }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}